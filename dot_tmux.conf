# Unbind the default prefix
unbind C-b

# Set new prefix to Ctrl+Space
set -g prefix C-Space

# Bind Ctrl+Space to send prefix
bind C-Space send-prefix

# Reload config
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# Use cwd for new windows/panes
bind c new-window -c "#{pane_current_path}"
bind | split-window -h -c "#{pane_current_path}"
bind '"' split-window -c "#{pane_current_path}"


# Pane resizing
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Window navigation
bind b previous-window
bind -n M-1 select-window -t 1
bind -n M-2 select-window -t 2
bind -n M-3 select-window -t 3
bind -n M-4 select-window -t 4
bind -n M-5 select-window -t 5
bind -n M-6 select-window -t 6
bind -n M-7 select-window -t 7
bind -n M-8 select-window -t 8
bind -n M-9 select-window -t 9

# Copy mode bindings (vi mode)
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection
bind -T copy-mode-vi r send -X rectangle-toggle

# Mouse support
set -g mouse on

# Vi mode keys
setw -g mode-keys vi

# History limit
set -g history-limit 10000

# Terminal colors
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",*256col*:Tc"

# Status bar styling
set -g status-interval 5
set -g status-justify centre
set -g status-left-length 60
set -g status-right-length 90

# Status bar colors
set -g status-bg colour235
set -g status-fg colour136
set -g status-left "#[fg=colour235,bg=colour252,bold] ❐ #S #[fg=colour252,bg=colour238,nobold]⮀#[fg=colour245,bg=colour238] #(whoami) #[fg=colour238,bg=colour234,nobold]⮀"
set -g status-right "#[fg=colour238,bg=colour234,nobold]⮂#[fg=colour245,bg=colour238] #(date +'%H:%M') #[fg=colour252]⮂#[fg=colour235,bg=colour252,bold] #(hostname -s) "

# Window status
setw -g window-status-format "#[fg=white,bg=colour234] #I #W "
setw -g window-status-current-format "#[fg=colour234,bg=colour39]⮀#[fg=colour25,bg=colour39,noreverse,bold] #I ⮁ #W #[fg=colour39,bg=colour234,nobold]⮀"


# Clock
setw -g clock-mode-colour colour64
setw -g clock-mode-style 24

# Activity monitoring
setw -g monitor-activity on
set -g visual-activity on

